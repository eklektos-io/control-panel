<?php

namespace EklektosIo\ControlPanel;

use Statamic\Providers\AddonServiceProvider;
use EklektosIo\ControlPanel\Widgets\Dashboard;
use Statamic\Facades\CP\Nav;
use Statamic\Facades\GlobalSet;
use Statamic\Statamic;

class ServiceProvider extends AddonServiceProvider
{
    
    protected $viewNamespace = 'eklektos-io';

    protected $widgets = [
        dashboard::class
    ];
    

    public function bootAddon()
    {
        # Collections icon
        Nav::extend(function ($nav) {
            $nav->content('Collections')
                ->icon('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 44.36" fill="currentColor"><path d="M25,25.21c-.15,0-.31-.03-.45-.1L.77,13.83C.3,13.6,0,13.13,0,12.6s.3-1,.77-1.22L24.55,.1c.28-.14,.62-.14,.9,0l23.78,11.28c.48,.23,.77,.7,.77,1.22s-.3,1-.77,1.22l-23.78,11.28c-.14,.07-.3,.1-.45,.1ZM3.09,12.6l21.91,10.39,21.91-10.39L25,2.21,3.09,12.6Z"/><path d="M25,31.59c-.15,0-.3-.03-.44-.1L.61,20.36c-.53-.24-.75-.87-.51-1.39,.24-.53,.87-.75,1.39-.51l23.5,10.93,23.5-11.34c.52-.25,1.15-.03,1.4,.49,.25,.52,.03,1.15-.49,1.4l-23.95,11.56c-.14,.07-.3,.1-.46,.1Z"/><path d="M25,37.98c-.15,0-.3-.03-.44-.1L.61,26.89c-.53-.24-.76-.86-.52-1.39,.24-.53,.86-.76,1.39-.52l23.5,10.78,23.51-11.34c.52-.25,1.15-.03,1.4,.49,.25,.52,.03,1.15-.49,1.4l-23.95,11.56c-.14,.07-.3,.1-.46,.1Z"/><path d="M25,44.36c-.14,0-.29-.03-.42-.09L.63,33.66c-.53-.23-.77-.85-.53-1.38,.23-.53,.85-.77,1.38-.53l23.51,10.41,23.51-11.34c.52-.25,1.15-.03,1.4,.49,.25,.52,.03,1.15-.49,1.4l-23.95,11.56c-.14,.07-.3,.1-.46,.1Z"/></svg>');
        });

        # Remove Globals
        Nav::extend(function ($nav) {
            $nav->remove('Content', 'Globals');
        });

    
        # Add Alert
        Nav::extend(function ($nav) {
            $nav->content('Alert')
                ->route('globals.update', 'alerts')
                ->icon('<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 52 52" fill="currentColor"><path d="M46.8,41.9c-0.8-0.2-3-1.1-3-2.5V23c0-9.4-7.3-17.1-16.6-17.7V1.2C27.2,0.5,26.7,0,26,0s-1.2,0.5-1.2,1.2v4.1C15.6,5.9,8.3,13.6,8.3,23v16.4c0,1.3-2.2,2.3-3,2.5c-0.6,0.2-1,0.7-0.9,1.3c0.1,0.6,0.6,1,1.2,1h40.9c0.6,0,1.1-0.4,1.2-1C47.7,42.6,47.3,42,46.8,41.9z M9.7,41.8c0.5-0.7,0.9-1.5,0.9-2.4V23c0-8.5,6.9-15.4,15.4-15.4c8.5,0,15.4,6.9,15.4,15.4v16.4c0,1,0.4,1.8,0.9,2.4H9.7z"/><path d="M26,52c-2.8,0-5.1-2-5.1-4.5c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2c0,1.1,1.2,2.1,2.7,2.1s2.7-1,2.7-2.1c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2C31.1,50,28.8,52,26,52z"/></svg>');
        });

        # Add Site Settings
        Nav::extend(function ($nav) {
            $nav->content('Site Settings')
                ->route('globals.update', 'site_settings')
                ->icon('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" fill="currentColor"><path d="M26,36.13c-5.59,0-10.13-4.54-10.13-10.13s4.54-10.13,10.13-10.13,10.13,4.54,10.13,10.13-4.54,10.13-10.13,10.13Zm0-18.26c-4.48,0-8.13,3.65-8.13,8.13s3.65,8.13,8.13,8.13,8.13-3.65,8.13-8.13-3.65-8.13-8.13-8.13Z"/><path d="M27.47,52h-2.93c-1.41,0-2.56-1.15-2.56-2.56v-5.29c-1.76-.39-3.45-1.04-5.03-1.93l-3.16,3.16c-.97,.97-2.66,.97-3.63,0l-3.5-3.5c-.48-.48-.75-1.13-.75-1.81s.27-1.33,.75-1.81l3.16-3.16c-.89-1.59-1.54-3.29-1.94-5.07H2.56c-1.41,0-2.56-1.15-2.56-2.56v-2.93c0-1.41,1.15-2.56,2.56-2.56H7.88c.39-1.78,1.04-3.47,1.94-5.06l-3.16-3.16c-1-1-1-2.63,0-3.63l3.5-3.5c.97-.97,2.66-.97,3.63,0l3.16,3.16c1.58-.89,3.27-1.54,5.03-1.93V2.56c0-1.41,1.15-2.56,2.56-2.56h2.93c1.41,0,2.56,1.15,2.56,2.56V7.84c1.79,.39,3.5,1.04,5.1,1.94l3.16-3.16c1-1,2.63-1,3.63,0l3.5,3.5c1,1,1,2.63,0,3.63l-3.16,3.16c.89,1.59,1.54,3.29,1.94,5.06h5.25c1.41,0,2.56,1.15,2.56,2.56v2.93c0,1.41-1.15,2.56-2.56,2.56h-5.25c-.39,1.78-1.04,3.48-1.94,5.07l3.16,3.16c.48,.48,.75,1.13,.75,1.81s-.27,1.33-.75,1.81l-3.5,3.5c-.97,.97-2.66,.97-3.63,0l-3.16-3.16c-1.6,.9-3.31,1.55-5.1,1.94v5.28c0,1.41-1.15,2.56-2.56,2.56Zm-10.68-12.04c.18,0,.36,.05,.53,.15,1.8,1.11,3.76,1.86,5.83,2.23,.48,.08,.83,.5,.83,.99v6.11c0,.31,.25,.56,.56,.56h2.93c.31,0,.56-.25,.56-.56v-6.1c0-.49,.35-.9,.83-.99,2.1-.36,4.09-1.11,5.9-2.24,.4-.25,.91-.19,1.23,.14l3.7,3.7c.21,.21,.58,.21,.8,0l3.5-3.5c.11-.11,.17-.25,.17-.4s-.06-.29-.17-.4l-3.7-3.7c-.33-.33-.39-.84-.14-1.23,1.12-1.81,1.87-3.78,2.23-5.87,.08-.48,.5-.83,.99-.83h6.07c.31,0,.56-.25,.56-.56v-2.93c0-.31-.25-.56-.56-.56h-6.07c-.49,0-.9-.35-.99-.83-.36-2.09-1.11-4.06-2.23-5.87-.24-.39-.19-.91,.14-1.23l3.7-3.7c.22-.22,.22-.58,0-.8l-3.5-3.5c-.22-.22-.58-.22-.8,0l-3.7,3.7c-.33,.33-.84,.39-1.23,.14-1.81-1.12-3.8-1.88-5.9-2.24-.48-.08-.83-.5-.83-.99V2.56c0-.31-.25-.56-.56-.56h-2.93c-.31,0-.56,.25-.56,.56v6.11c0,.49-.35,.9-.83,.98-2.07,.36-4.04,1.11-5.83,2.23-.39,.24-.91,.18-1.23-.14l-3.7-3.7c-.21-.21-.58-.21-.8,0l-3.5,3.5c-.22,.22-.22,.58,0,.8l3.7,3.7c.33,.33,.39,.84,.14,1.23-1.12,1.8-1.87,3.78-2.23,5.87-.08,.48-.5,.83-.99,.83H2.56c-.31,0-.56,.25-.56,.56v2.93c0,.31,.25,.56,.56,.56h6.14c.49,0,.9,.35,.99,.83,.36,2.09,1.11,4.06,2.23,5.87,.24,.4,.19,.91-.14,1.23l-3.7,3.7c-.11,.11-.17,.25-.17,.4s.06,.29,.17,.4l3.5,3.5c.21,.21,.58,.21,.8,0l3.71-3.71c.19-.19,.45-.29,.71-.29Z"/></svg>');
        });

        # CP CSS
        # Statamic::style('app', 'cp.css');
    }
};